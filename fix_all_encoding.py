# -*- coding: utf-8 -*-
import codecs

# 读取文件
with open(r'f:\Studio\FlyNotes\src\public\index.html', 'r', encoding='utf-8') as f:
    content = f.read()

# 定义需要修复的乱码映射
fixes = [
    # CSS注释
    ('鍝嶅簲寮忚璁★細鍦ㄥ皬灞忓箷涓婇殣钘忎晶杈规爮', '响应式设计:在小屏幕上隐藏侧边栏'),
    ('鍦ㄥ灞忔ā寮忎笅锛屽鏋滃彸渚ф爮瀛樺湪锛屽垯涓棿鏍忎緷鐒跺彈闄?', '在宽屏模式下,如果右侧栏存在,则中间栏依然受限'),
    
    # JavaScript注释
    ('妫€鏌ョ敤鎴锋槸鍚﹁緭鍏ヤ簡閾炬帴', '检查用户是否输入了链接'),
    ('娌℃湁鍙栨秷鎴栫暀绌?', '没有取消或留空)'),
    ('闃绘榛樿鐨勬枃鏈€夋嫨绛夎涓?', '阻止默认的文本选择等行为'),
    ('绉婚櫎鍏ㄥ眬鏍峰紡', '移除全局样式'),
    ('瑙ｇ粦浜嬩欢', '解绑事件'),
    ('璁╂祻瑙堝櫒鎵ц鍘熺敓鐨勩€佸彲鎾ら攢鐨勬彃鍏ュ懡浠?', '让浏览器执行原生的、可撤销的插入命令'),
    ('鎵嬪姩瑙﹀彂input浜嬩欢', '手动触发input事件'),
    ('纭繚棰勮鑳藉瀹炴椂鏇存柊', '确保预览能够实时更新'),
    
    # 常见词汇
    ('鍒濆鍖?', '初始化'),
    ('璇诲彇', '读取'),
    ('璁剧疆', '设置'),
    ('鏇存柊', '更新'),
    ('鍒犻櫎', '删除'),
    ('娣诲姞', '添加'),
    ('鑾峰彇', '获取'),
    ('淇濆瓨', '保存'),
    ('鍔犺浇', '加载'),
    ('鏄剧ず', '显示'),
    ('闅愯棌', '隐藏'),
    ('鍒囨崲', '切换'),
    ('鐐瑰嚮', '点击'),
    ('閬垮厤', '避免'),
    ('纭繚', '确保'),
    ('澶勭悊', '处理'),
    ('妫€鏌?', '检查'),
]

# 应用所有修复
count = 0
for old, new in fixes:
    if old in content:
        content = content.replace(old, new)
        count += 1

# 写回文件
with open(r'f:\Studio\FlyNotes\src\public\index.html', 'w', encoding='utf-8') as f:
    f.write(content)

print(f"已修复 {count} 处乱码")
